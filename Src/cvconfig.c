/*
 * cvconfig.c
 *
 *  Created on: 2018/07/14
 *      Author: NishiAsakusa Audio Developments / oxxxide / Akikazu Iwasa
 */

#include "cvconfig.h"


CV_ASSIGN cv_assignements[4] = { { CV_PITCH, 0 }, { CV_PITCH, 1 }, { CV_PITCH, 2 },
		{ CV_PITCH, 3 } };


void InitCvAssignements(CV_ASSIGN* array, int size) {
	for (int i = 0; i < size; i++) {
		CV_ASSIGN* a = &array[i];
		a->target_channel = i;
		a->assign = CV_PITCH;
	}
}

float cvTable_V_OCT[CV_RESOLUTION] = { 1, 1.0036166659754628, 1.007246412223704,
		1.0108892860517005, 1.0145453349375237, 1.0182146065309567,
		1.0218971486541166, 1.0255930093020766, 1.029302236643492,
		1.0330248790212284, 1.0367609849529913, 1.0405106031319582,
		1.0442737824274138, 1.048050571885387, 1.0518410207292894,
		1.0556451783605572, 1.0594630943592953, 1.0632948184849231,
		1.0671404006768237, 1.0709998910549934, 1.0748733399206964,
		1.0787607977571199, 1.0826623152300312, 1.0865779431884395,
		1.0905077326652577, 1.0944517348779672, 1.0984100012292868,
		1.102382583307841, 1.1063695328888334, 1.1103709019347212,
		1.1143867425958924, 1.118417107211346, 1.122462048309373,
		1.1265216186082418, 1.1305958710168857, 1.1346848586355913,
		1.1387886347566916, 1.14290725286526, 1.1470407666398077,
		1.1511892299529827, 1.155352696872273, 1.1595312216607103,
		1.1637248587775775, 1.1679336628791188, 1.1721576888192515,
		1.1763969916502812, 1.1806516266236198, 1.1849216491905044,
		1.189207115002721, 1.1935080799133297, 1.1978245999773924,
		1.202156731452703, 1.2065045308005218, 1.21086805468631,
		1.215247359980469, 1.2196425037590815, 1.2240535433046553,
		1.22848053610687, 1.2329235398633263, 1.2373826124802971,
		1.241857812073484, 1.246349196968773, 1.2508568257029955,
		1.255380757024691, 1.2599210498948732, 1.2644777634877975,
		1.2690509571917332, 1.2736406906097373, 1.2782470235604304,
		1.2828700160787783, 1.287509728416872, 1.2921662210447147,
		1.2968395546510096, 1.3015297901439504, 1.3062369886520155,
		1.3109612115247644, 1.3157025203336377, 1.320460976872759,
		1.3252366431597413, 1.3300295814364937, 1.3348398541700344,
		1.339667524053303, 1.3445126540059793, 1.3493753071753019,
		1.3542555469368927, 1.3591534368955813, 1.364069040886235,
		1.3690024229745905, 1.3739536474580891, 1.378922778866714,
		1.383909881963832, 1.3889150217470374, 1.3939382634489994,
		1.3989796725383112, 1.4040393147203447, 1.409117255938106,
		1.4142135623730951, 1.419328300446168, 1.4244615368184033,
		1.42961333839197, 1.4347837723110002, 1.4399729059624637,
		1.4451808069770467, 1.4504075432300325, 1.4556531828421875,
		1.460917794180647, 1.4662014458598085, 1.4715042067422242,
		1.4768261459394993, 1.4821673328131928, 1.4875278369757208,
		1.4929077282912648, 1.4983070768766815, 1.5037259531024167,
		1.5091644275934228, 1.514622571230079, 1.5201004551491148,
		1.5255981507445384, 1.5311157296685651, 1.5366532638325536,
		1.5422108254079407, 1.5477884868271843, 1.5533863207847054,
		1.559004400237837, 1.5646427984077742, 1.5703015887805287,
		1.5759808451078865, 1.5816806414083695, 1.5874010519681994,
		1.593142151342267, 1.598904014355102, 1.6046867161018514,
		1.6104903319492543, 1.6163149375366272, 1.6221606087768483,
		1.6280274218573478, 1.6339154532410998, 1.63982477966762,
		1.645755478153965, 1.651707625995736, 1.6576813007680875,
		1.6636765803267364, 1.6696935428089787, 1.6757322666347059,
		1.681792830507429, 1.6878753134153026, 1.6939797946321558,
		1.7001063537185235, 1.7062550705226855, 1.712426025181706,
		1.718619298122478, 1.7248349700627714, 1.731073122012286,
		1.7373338352737062, 1.7436171914437613, 1.7499232724142881,
		1.7562521603732995, 1.762603937806055, 1.7689786874961348,
		1.7753764925265212, 1.7817974362806785, 1.788241602443642,
		1.7947090750031072, 1.8011999382505255, 1.807714276782202,
		1.8142521755003989, 1.8208137196144405, 1.827398994641826,
		1.8340080864093424, 1.8406410810541831, 1.847298065025071,
		1.8539791250833855, 1.8606843483042932, 1.8674138220778815,
		1.8741676341103, 1.8809458724249004, 1.8877486253633868,
		1.8945759815869656, 1.9014280300775006, 1.9083048601386734,
		1.9152065613971474, 1.9221332238037356, 1.9290849376345733,
		1.9360617934922943, 1.9430638823072117, 1.9500912953385032,
		1.9571441241754002, 1.9642224607383827, 1.9713263972803752,
		1.978456026387951, 1.9856114409825378, 1.9927927343216292, 2,
		2.007233331950926, 2.014492824447408, 2.021778572103401,
		2.029090669875047, 2.0364292130619135, 2.0437942973082333,
		2.0511860186041533, 2.058604473286984, 2.066049758042457,
		2.073521969905982, 2.0810212062639164, 2.0885475648548275,
		2.096101143770774, 2.1036820414585784, 2.1112903567211143,
		2.1189261887185906, 2.1265896369698463, 2.1342808013536474,
		2.1419997821099868, 2.1497466798413924, 2.1575215955142397,
		2.1653246304600624, 2.1731558863768794, 2.1810154653305154,
		2.1889034697559344, 2.1968200024585736, 2.204765166615682,
		2.2127390657776664, 2.220741803869442, 2.228773485191785,
		2.2368342144226925, 2.244924096618746, 2.2530432372164837,
		2.2611917420337715, 2.2693697172711826, 2.277577269513383,
		2.2858145057305204, 2.2940815332796154, 2.3023784599059653,
		2.310705393744546, 2.3190624433214206, 2.327449717555155,
		2.335867325758237, 2.3443153776385026, 2.3527939833005624,
		2.36130325324724, 2.3698432983810087, 2.378414230005442,
		2.3870161598266595, 2.3956491999547844, 2.404313462905406,
		2.4130090616010436, 2.4217361093726195, 2.430494719960938,
		2.4392850075181625, 2.4481070866093106, 2.45696107221374,
		2.4658470797266525, 2.4747652249605943, 2.483715624146968,
		2.4926983939375464, 2.501713651405991, 2.510761514049382,
		2.5198420997897464, 2.5289555269755946, 2.5381019143834664,
		2.547281381219474, 2.556494047120861, 2.5657400321575565,
		2.575019456833744, 2.58433244208943, 2.5936791093020193,
		2.6030595802879013, 2.612473977304031, 2.621922423049529,
		2.6314050406672753, 2.640921953745518, 2.6504732863194826,
		2.6600591628729875, 2.6696797083400683, 2.679335048106606,
		2.689025308011958, 2.6987506143506037, 2.7085110938737853,
		2.7183068737911626, 2.72813808177247, 2.738004845949181,
		2.7479072949161787, 2.757845557733428, 2.767819763927664,
		2.7778300434940753, 2.787876526897999, 2.7979593450766225,
		2.8080786294406894, 2.818234511876212, 2.8284271247461903,
		2.8386566008923357, 2.848923073636806, 2.85922667678394,
		2.8695675446220004, 2.8799458119249275, 2.8903616139540933,
		2.9008150864600655, 2.911306365684375, 2.921835588361294,
		2.9324028917196174, 2.9430084134844483, 2.9536522918789987,
		2.964334665626385, 2.9750556739514415, 2.9858154565825297,
		2.996614153753363, 3.007451906204833, 3.0183288551868457,
		3.0292451424601574, 3.0402009102982297, 3.051196301489077,
		3.0622314593371307, 3.0733065276651073, 3.0844216508158815,
		3.095576973654369, 3.106772641569411, 3.118008800475674,
		3.129285596815548, 3.140603177561057, 3.151961690215773,
		3.1633612828167386, 3.1748021039363987, 3.186284302684534,
		3.197808028710204, 3.209373432203703, 3.2209806638985086,
		3.2326298750732545, 3.2443212175536966, 3.2560548437146957,
		3.2678309064822, 3.27964955933524, 3.29151095630793, 3.303415251991472,
		3.3153626015361746, 3.3273531606534728, 3.339387085617957,
		3.3514645332694117, 3.363585661014858, 3.3757506268306052,
		3.3879595892643115, 3.400212707437047, 3.4125101410453715,
		3.424852050363412, 3.437238596244956, 3.4496699401255433,
		3.4621462440245723, 3.4746676705474124, 3.487234382887522,
		3.499846544828576, 3.512504320746599, 3.5252078756121095,
		3.5379573749922697, 3.5507529850530424, 3.563594872561357,
		3.576483204887284, 3.5894181500062143, 3.6023998765010514,
		3.615428553564404, 3.6285043510007977, 3.6416274392288814,
		3.6547979892836526, 3.668016172818685, 3.681282162108366,
		3.6945961300501415, 3.707958250166771, 3.721368696608586,
		3.734827644155763, 3.7483352682206, 3.761891744849801,
		3.775497250726774, 3.789151963173931, 3.802856060155001,
		3.816609720277347, 3.830413122794295, 3.8442664476074717,
		3.858169875269147, 3.8721235869845887, 3.8861277646144234,
		3.900182590677006, 3.9142882483508004, 3.928444921476765,
		3.94265279456075, 3.956912052775902, 3.9712228819650757,
		3.985585468643259, 4, 4.014466663901852, 4.028985648894817,
		4.043557144206802, 4.058181339750095, 4.072858426123827,
		4.0875885946164665, 4.102372037208307, 4.117208946573967,
		4.132099516084914, 4.147043939811964, 4.162042412527832,
		4.177095129709655, 4.192202287541547, 4.207364082917159,
		4.222580713442229, 4.237852377437181, 4.253179273939693,
		4.268561602707295, 4.2839995642199735, 4.299493359682785,
		4.315043191028479, 4.330649260920125, 4.346311772753758,
		4.362030930661031, 4.377806939511868, 4.393640004917147,
		4.409530333231364, 4.425478131555332, 4.441483607738886,
		4.45754697038357, 4.473668428845385, 4.489848193237493,
		4.506086474432967, 4.522383484067543, 4.538739434542365,
		4.555154539026766, 4.571629011461041, 4.58816306655923,
		4.604756919811931, 4.621410787489091, 4.63812488664284,
		4.65489943511031, 4.671734651516474, 4.688630755277007,
		4.705587966601125, 4.72260650649448, 4.739686596762018,
		4.756828460010884, 4.77403231965332, 4.791298399909569,
		4.808626925810812, 4.826018123202088, 4.843472218745239,
		4.860989439921876, 4.878570015036325, 4.89621417321862,
		4.91392214442748, 4.931694159453303, 4.949530449921189,
		4.967431248293936, 4.985396787875093, 5.003427302811983,
		5.021523028098764, 5.039684199579493, 5.057911053951189,
		5.076203828766933, 5.094562762438949, 5.112988094241722,
		5.131480064315113, 5.150038913667487, 5.168664884178859,
		5.187358218604039, 5.206119160575801, 5.224947954608063,
		5.243844846099058, 5.262810081334551, 5.281843907491037,
		5.300946572638965, 5.320118325745976, 5.339359416680137,
		5.358670096213212, 5.378050616023917, 5.397501228701207,
		5.417022187747571, 5.436613747582324, 5.456276163544939,
		5.476009691898362, 5.495814589832356, 5.515691115466857,
		5.535639527855328, 5.5556600869881505, 5.5757530537959985,
		5.595918690153245, 5.61615725888138, 5.636469023752424,
		5.656854249492381, 5.677313201784672, 5.697846147273612,
		5.71845335356788, 5.739135089244, 5.759891623849856, 5.780723227908187,
		5.801630172920131, 5.822612731368749, 5.843671176722588,
		5.864805783439233, 5.8860168269688975, 5.907304583757997,
		5.928669331252771, 5.950111347902883, 5.971630913165059,
		5.993228307506727, 6.014903812409666, 6.036657710373691,
		6.058490284920314, 6.08040182059646, 6.102392602978154,
		6.124462918674261, 6.146613055330214, 6.168843301631763,
		6.191153947308736, 6.2135452831388225, 6.236017600951348,
		6.258571193631097, 6.281206355122114, 6.303923380431546,
		6.326722565633479, 6.3496042078727974, 6.372568605369068,
		6.3956160574204075, 6.418746864407407, 6.441961327797017,
		6.465259750146509, 6.488642435107392, 6.512109687429391,
		6.535661812964398, 6.559299118670482, 6.58302191261586,
		6.606830503982945, 6.630725203072349, 6.6547063213069455,
		6.678774171235915, 6.7029290665388235, 6.727171322029716,
		6.75150125366121, 6.775919178528624, 6.800425414874094,
		6.825020282090743, 6.849704100726823, 6.874477192489912,
		6.899339880251084, 6.924292488049145, 6.949335341094825,
		6.974468765775045, 6.999693089657152, 7.025008641493198,
		7.05041575122422, 7.075914749984539, 7.101505970106085,
		7.127189745122713, 7.152966409774569, 7.178836300012429,
		7.204799753002103, 7.2308571071288075, 7.257008702001595,
		7.283254878457761, 7.309595978567306, 7.33603234563737,
		7.3625643242167325, 7.389192260100283, 7.415916500333542,
		7.442737393217174, 7.469655288311526, 7.4966705364412, 7.5237834896996,
		7.550994501453549, 7.578303926347862, 7.605712120310002,
		7.633219440554692, 7.66082624558859, 7.688532895214941,
		7.716339750538295, 7.744247173969177, 7.772255529228848,
		7.800365181354012, 7.828576496701601, 7.856889842953532,
		7.8853055891215, 7.913824105551804, 7.94244576393015,
		7.9711709372865185, 8, 8.028933327803705, 8.05797129778963,
		8.087114288413604, 8.116362679500188, 8.145716852247656,
		8.175177189232933, 8.204744074416613, 8.234417893147935,
		8.264199032169827, 8.29408787962393, 8.324084825055664,
		8.35419025941931, 8.384404575083094, 8.414728165834317,
		8.445161426884457, 8.475704754874362, 8.506358547879385,
		8.53712320541459, 8.567999128439945, 8.598986719365573,
		8.630086382056959, 8.66129852184025, 8.692623545507516,
		8.724061861322062, 8.75561387902374, 8.787280009834294,
		8.819060666462727, 8.850956263110664, 8.882967215477771,
		8.91509394076714, 8.94733685769077, 8.979696386474982,
		9.012172948865935, 9.044766968135084, 9.077478869084732,
		9.110309078053533, 9.143258022922081, 9.17632613311846,
		9.209513839623861, 9.242821574978185, 9.27624977328568,
		9.30979887022062, 9.343469303032949, 9.377261510554014,
		9.41117593320225, 9.44521301298896, 9.479373193524035,
		9.513656920021768, 9.548064639306636, 9.582596799819141,
		9.617253851621625, 9.652036246404176, 9.686944437490478,
		9.721978879843752, 9.757140030072652, 9.79242834643724,
		9.82784428885496, 9.863388318906607, 9.899060899842379,
		9.934862496587872, 9.970793575750186, 10.006854605623964,
		10.043046056197529, 10.079368399158984, 10.115822107902382,
		10.152407657533866, 10.189125524877898, 10.225976188483443,
		10.262960128630226, 10.300077827334977, 10.337329768357717,
		10.374716437208077, 10.412238321151602, 10.449895909216126,
		10.487689692198115, 10.525620162669101, 10.563687814982071,
		10.60189314527793, 10.640236651491948, 10.678718833360277,
		10.717340192426423, 10.756101232047834, 10.795002457402415,
		10.834044375495141, 10.873227495164652, 10.912552327089879,
		10.952019383796724, 10.991629179664711, 11.031382230933714,
		11.071279055710656, 11.111320173976301, 11.151506107591993,
		11.19183738030649, 11.232314517762756, 11.27293804750485,
		11.313708498984761, 11.354626403569345, 11.395692294547224,
		11.43690670713576, 11.478270178488003, 11.519783247699708,
		11.561446455816373, 11.603260345840258, 11.645225462737502,
		11.687342353445176, 11.72961156687847, 11.772033653937791,
		11.814609167515995, 11.857338662505539, 11.90022269580577,
		11.943261826330119, 11.986456615013454, 12.029807624819332,
		12.073315420747383, 12.116980569840631, 12.160803641192917,
		12.204785205956307, 12.24892583734852, 12.29322611066043,
		12.337686603263526, 12.382307894617476, 12.427090566277641,
		12.472035201902695, 12.51714238726219, 12.562412710244232,
		12.607846760863092, 12.653445131266958, 12.699208415745595,
		12.745137210738136, 12.791232114840819, 12.83749372881481,
		12.883922655594034, 12.930519500293014, 12.97728487021479,
		13.024219374858783, 13.0713236259288, 13.118598237340958,
		13.16604382523172, 13.213661007965886, 13.261450406144702,
		13.309412642613891, 13.35754834247183, 13.405858133077647,
		13.454342644059432, 13.503002507322423, 13.551838357057244,
		13.600850829748188, 13.650040564181483, 13.699408201453652,
		13.748954384979823, 13.798679760502173, 13.848584976098287,
		13.89867068218965, 13.948937531550087, 13.999386179314307,
		14.050017282986396, 14.10083150244844, 14.151829499969079,
		14.20301194021217, 14.25437949024543, 14.305932819549135,
		14.357672600024857, 14.4095995060042, 14.461714214257618,
		14.51401740400319, 14.566509756915526, 14.619191957134609,
		14.67206469127474, 14.725128648433461, 14.77838452020057,
		14.831833000667084, 14.885474786434347, 14.939310576623052,
		14.9933410728824, 15.047566979399205, 15.101989002907095,
		15.156607852695725, 15.211424240620001, 15.266438881109389,
		15.32165249117718, 15.377065790429887, 15.432679501076587,
		15.488494347938355, 15.54451105845769, 15.600730362708028,
		15.657152993403201, 15.713779685907063, 15.770611178243,
		15.827648211103607, 15.884891527860304, 15.942341874573032, 16,
		16.057866655607402, 16.115942595579266, 16.174228576827208,
		16.232725359000383, 16.2914337044953, 16.350354378465866,
		16.409488148833223, 16.468835786295877, 16.528398064339655,
		16.588175759247857, 16.648169650111324, 16.70838051883862,
		16.7688091501662, 16.829456331668634, 16.890322853768915,
		16.95140950974872, 17.012717095758774, 17.07424641082918,
		17.1359982568799, 17.197973438731136, 17.260172764113918,
		17.322597043680496, 17.385247091015035, 17.448123722644123,
		17.511227758047472, 17.57456001966858, 17.638121332925454,
		17.701912526221342, 17.765934430955543, 17.83018788153428,
		17.894673715381533, 17.959392772949972, 18.02434589773187,
		18.08953393627018, 18.154957738169454, 18.220618156107065,
		18.286516045844156, 18.352652266236927, 18.419027679247723,
		18.485643149956363, 18.552499546571358, 18.61959774044124,
		18.686938606065908, 18.754523021108028, 18.8223518664045,
		18.890426025977913, 18.958746387048073, 19.027313840043536,
		19.096129278613287, 19.165193599638272, 19.23450770324325,
		19.304072492808345, 19.373888874980963, 19.443957759687503,
		19.5142800601453, 19.584856692874475, 19.65568857770992,
		19.726776637813227, 19.798121799684758, 19.869724993175744,
		19.941587151500364, 20.01370921124793, 20.086092112395058,
		20.158736798317978, 20.23164421580475, 20.30481531506773,
		20.37825104975579, 20.451952376966894, 20.525920257260452,
		20.600155654669948, 20.674659536715428, 20.749432874416154,
		20.824476642303217, 20.899791818432252, 20.97537938439623,
		21.0512403253382, 21.12737562996415, 21.20378629055586,
		21.28047330298391, 21.357437666720543, 21.434680384852847,
		21.51220246409566, 21.590004914804837, 21.668088750990282,
		21.746454990329298, 21.82510465417975, 21.90403876759345,
		21.983258359329433, 22.062764461867427, 22.142558111421312,
		22.222640347952595, 22.303012215183994, 22.38367476061298,
		22.464629035525526, 22.54587609500969, 22.627416997969522,
		22.709252807138682, 22.791384589094456, 22.87381341427152,
		22.956540356976, 23.03956649539941, 23.122892911632746,
		23.20652069168053, 23.290450925475003, 23.374684706890353,
		23.459223133756932, 23.54406730787559, 23.62921833503199,
		23.714677325011092, 23.80044539161152, 23.886523652660237,
		23.9729132300269, 24.05961524963867, 24.146630841494765,
		24.233961139681256, 24.321607282385827, 24.409570411912615,
		24.497851674697053, 24.58645222132086, 24.675373206527052,
		24.764615789234945, 24.85418113255529, 24.94407040380539,
		25.034284774524398, 25.12482542048845, 25.215693521726184,
		25.306890262533905, 25.398416831491197, 25.490274421476272,
		25.58246422968163, 25.674987457629612, 25.76784531118807,
		25.861039000586047, 25.95456974042958, 26.048438749717565,
		26.142647251857593, 26.237196474681927, 26.33208765046344,
		26.427322015931786, 26.522900812289386, 26.618825285227782,
		26.715096684943653, 26.8117162661553, 26.908685288118864,
		27.00600501464484, 27.10367671411448, 27.201701659496376,
		27.30008112836298, 27.398816402907304, 27.497908769959647,
		27.597359521004336, 27.69716995219658, 27.7973413643793,
		27.89787506310019, 27.998772358628596, 28.10003456597279,
		28.201663004896872, 28.303658999938165, 28.40602388042434,
		28.508758980490853, 28.61186563909826, 28.715345200049715,
		28.81919901200842, 28.923428428515237, 29.02803480800638,
		29.133019513831044, 29.238383914269225, 29.34412938254948,
		29.45025729686694, 29.55676904040112, 29.663666001334168,
		29.770949572868684, 29.87862115324611, 29.9866821457648,
		30.0951339587984, 30.20397800581418, 30.31321570539145,
		30.42284848124002, 30.532877762218778, 30.64330498235436,
		30.754131580859763, 30.86535900215318, 30.97698869587671,
		31.0890221169154, 31.201460725416037, 31.314305986806403,
		31.427559371814116, 31.54122235648601, 31.655296422207215,
		31.7697830557206, 31.884683749146056, 32
};

/**
 * @param cv 0 to 960
 */
float cvToExponential_V_OCT(float cv) {
	int index = (int) (cv * 960.0f);
	if (index < 0) {
		return 1.0f;
	} else if (index > 960) {
		index = 960;
	}
	return cvTable_V_OCT[index];
}
